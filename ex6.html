<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html" xmlns="http://www.w3.org/1999/html">
<head>
    <title>ActorJS Example 6: Including actor scripts</title>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <script src="lib/requirejs/require.js"></script>

</head>
<body style="padding: 20px;">

<h1>ActorJS Example 6: Actor Includes</h1>

<h2><a href="javascript:saySomething()">Say something!</a></h2>

<script>

    /* Configure RequireJS
     */
    requirejs.config({
        baseUrl:"."
    });

    /* Create an ActorJS instance
     */
    require([
        'lib/actorjs/actorjs'
    ],
            function (actorjs) {

                /* Tell ActorJS where to find actor types and includes
                 */
                actorjs.configure({
                    typePath:"actors/",
                    includePath:"includes/"
                });

                /* Include a 'boss' actor, which contains child actors for Dilbert and Phil
                 */
                actorjs.call("addActor", {
                    include:"ex6.pointyHairedBoss",
                    id:"boss"
                });

                /* Subscribe to Dilbert's messages
                 */
                actorjs.subscribe("boss.dilbert.saidSomething",
                        function (params) {
                            alert(params.message);
                        });

                /* Subscribe to Phil's messages
                 */
                actorjs.subscribe("boss.phil.saidSomething",
                        function (params) {
                            alert(params.message);
                        });


                window.saySomething = function () {

                    actorjs.call("boss.dilbert.saySomething", {
                        message:"Hello, World!"
                    });

                    actorjs.call("boss.phil.saySomething", {
                        message:"Hello, World!"
                    });
                };
            });
</script>
<a href="https://github.com/xeolabs/actorjs" target="_blank"><img
        style="position: absolute; top: 0; right: 0; border: 0;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
        alt="Fork me on GitHub"></a>
</body>
</html>